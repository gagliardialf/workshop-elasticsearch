<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ElasticSearch - d'You Know? (for search)</title>

		<meta name="description" content="Workshop ElasticSearch">
		<meta name="author" content="Alfredo Gagliardi">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<img width="440" height="119" src="img/eslogo.png" alt="Elasticsearch">
					<br/>
					<img width="479" height="58" style="border:0px" src="img/tagline.png" alt="d'you know? for search">
					<p>
						<small>Alfredo Gagliardi</a> / <a href="http://twitter.com/elmuneco83">@elmuneco83</a></small>
					</p>
				</section>
				<section>
					<h2>Big Data</h2>
					<p>
						<ul>
							<li><strong>Volume:</strong> big!</li>
							<br/>
							<li><strong>Velocity:</strong> speed of generation / processing</li>
							<br/>
							<li><strong>Variety and variability:</strong> structured and unstructured data from different sources</li>
							
						</ul>
					</p>
				</section>
				<section>
					<img width="480" height="700" src="img/my_name.jpg" alt="Still can't find my name">
				</section>
				<section>					
					<h2>‘Players’ in the search market</h2>
					<ul>
						<li><strong>Web Search engines:</strong>
							<ul>
								<small>
									<li>Google</li>
									<li>Bing</li>
									<li>Yahoo!</li>
									<li>Ask.com</li>
									<li>Baidu</li>
								</small>
							</ul>
						</li>
						<br/>
						<li><strong>Open-Source:</strong>
							<ul>
								<small>
									<li>Sphinx</li>
									<li>Apache Lucene/Solr</li>
									<li>Elasticsearch</li>									
									<li>Sensei</li>
								</small>
							</ul>
						</li>
						<br/>
						<li><strong>Enterprise Search:</strong>
							<ul>
								<small>
									<li>Oracle Endeca</li>
									<li>MDEX</li>
									<li>HP Autonomy</li>
									<li>Exalead</li>
									<li>IBM Enterprise Search</li>
								</small>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h2>Search categories</h2>
					<br/>
					<p>
						Basic/Metadata retrieval<br/><h3><strong>→ data stores</strong></h3>
					</p>
					<br/>
					<p>
						<ul>							
							<li>Full-text search</li>
							<li>Geolocation</li>
							<li>Fuzzy search (“did-you-mean”)</li>
							<li>Natural Language</li>							
						</ul>
						<br/>
						<h3><strong>→ search engines</strong></h3>
						<br/>
					</p>
				</section>
				<section>
					<h2>A search engine...</h2>					
						<ul>
							<li><strong>Indexes data</strong> (fields or combination of fields)</li>
							<br/>
							<li><strong>Analysis</strong>
							<ul>
								<li>Text search
									<p>
										<ol>
											<li>
												<strong>Tokenizing</strong>
												<br/>
												<small>(finding word boundaries, recognizing patterns like e-mail addresses, urls...)</small>
											</li>
											<li>
												<strong>Stemming</strong> from word to concept
												<br/>
												<small>(ex. Fishing/Fisher/Fished → Fish; Better → Good)</small>
											</li>
											<li>
												<strong>Filtering</strong>
												<br/>
												<small>(when HTML is indexed, not all chars are meaningful)</small>
											</li>
										</ol>
									</p>
								</li>
								<br/>
								<li>Relevance scoring (which to show first?)</li>
							</ul>							
						</ul>				
				</section>
				<section>
					<img width="440" height="119" src="img/eslogo.png" alt="Elasticsearch">
					<br/>
					<small>You know, for search (tagline)</small>
					<p>
						<strong>search and analytics engine</strong>
						<ul>
							<li>Real time</li>							
							<li>Distributed</li>
							<li>Scales massively</li>
							<li>High availability</li>
							<li>RESTful</li>
							<li>API</li>
							<li>JSON over HTTP</li>
							<li>Schema free</li>
							<li>Multitenancy</li>
						</ul>
					</p>
				</section>
				<section>
					<h2>Who is using it?</h2>
					<img width="1125" height="537" src="img/users.png" alt="Users">		
				</section>
				<section>
					<h2>On the cutting edge</h2>
					<img width="568" height="522" src="img/radar.png" alt="Radar">
					<small><br/><a href="http://assets.thoughtworks.com/assets/technology-radar-jan-2014-en.pdf">TechRadar January 2014</a></small>
				</section>
				<section>				
					<p>
						<ul>
							<li>Long term persistance</li>
							<br/>
							<li>Schemaless; document oriented</li>
							<br/>
						</ul>
					</p>
					<h2>is  it  a  NoSQL  DB?</h2>
					<br/>
					<small>
						<table>
							<thead>
								<tr>
									<th>Relational</th>
									<th>ElasticSearch</th>
								</tr>
							</thead>
							<tr><td>Database</td><td>Index</td></tr>
							<tr><td>Table</td><td>Type</td></tr>
							<tr><td>Row</td><td>Document</td></tr>
							<tr><td>Column</td><td>Field</td></tr>
							<tr><td>Schema</td><td>Mapping</td></tr>
							<tr><td>Index</td><td>Everything is indexed</td></tr>
							<tr><td>SQL</td><td>Query DSL</td></tr>
							<tr><td>SELECT * FROM table …</td><td>GET http://…</td></tr>
							<tr><td>UPDATE table SET …</td><td>PUT http://…</td></tr>
						</table>
					</small>
				</section>
				<section>
					<h2>Scalability - Availability</h2>
					<br/>
						<ul>							
							<li>Multiple nodes running in a cluster
							<ul>
								<small>
									<li>Acting as single service</li>
									<li>Nodes that store data vs nodes that help in speeding up search</li>
								</small>
							</ul>
							<br/>
							<li>Sharding of indexing <br/><small>(# shards is configurable)</small></li>
							<br/>
							<li>Replicas of shards <br/><small>(also on different servers for failover)</small></li>
							<br/>
							<li>Master node: in charge of distributing/balancing shards
							<ul>
								<small>
									<li>More data > More shards</li>
									<li>More availability > More replicas per shard</li>
								</small>
							</ul>
						</ul>				
				</section>
				<section>
					<h2>Advanced features</h2>
					<br/>					
						<ul>							
							<li>Nested documents (Child-Parent)<br/><small>Like MySQL joins?</small></li>
							<br/>
							<li>Percolation Index
							<ul>				
								<small>							
									<li>Store queries</li>
									<li>Send documents -> Get returned which queries match</li>
								</small>
							</ul>
							<br/>
							<li>Index Warming<br/><small>Register search queries that cause heavy load (so they can precached)</small></li>
							<br/>
							<li>Aggregations (facets)<br/><small>for statistical analysis (distribution of values, average, count, max, min...)</small></li>
						</ul>				
				</section>
				<section>
					<h2>API</h2>
					<p><em>curl -XGET localhost:9200/?pretty</em></p>
					<br/>
					<h2>+ JSON DATA</h2>
					<p>
						<em>{"tweet": "I think #elasticsearch is AWESOME","nick": "@clintongormley","name": "Clinton Gormley","date": "2013-06-03","rt" : 5,"loc": {! "lat": 13.4,! "lon": 52.5}</em>
					</p>
				</section>
				<section>
					<h2>Index templates</h2>					
						<p>Index templates allow to define templates that will automatically be applied to new indices created. The templates include both settings and mappings, and a simple pattern template that controls if the template will be applied to the index created
						</p>http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/indices-templates.html
				</section>
				<section>
					<h2>Search templates</h2>					
						<p>allows to use the mustache language to pre render search requests, before they are executed and fill existing templates with template parameters.
						You can register search templates by storing it in the config/scripts directory, in a file using the .mustache extension. In order to execute the stored template, reference it by it’s name under the template key.
						You can also register search templates by storing it in the elasticsearch cluster in a special index named .scripts. There are REST APIs to manage these indexed templates.
						</p>http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-template.html
				</section>				
				<section>
					<ul>
						<li>
							<p><strong>Insert data with an id: PUT</strong></p>
							<p><em>PUT /index/type/id -d data</em></p>
							<small>index => where? type => what? id => which?</small>
						</li><br/><li>
							<p><strong>Insert data without an id: POST</strong></p>
							<p><em>POST /index/type -d data</em></p>					
						</li><br/><li>
							<p><strong>Verify if data exists: HEAD</strong></p>
							<p><em>HEAD /index/type/id</em></p>
						</li><br/><li>
							<p><strong>Retrieve data: GET</strong></p>
							<p><em>GET /index/type/id<strong> -></strong> 200 OK</p>
							<p>{"_index": "myapp","_type": "tweet","_id": "1","_version": 1,"exists": true,"_source": { ...DATA... }}</em></p>
						</li>
					</ul>
				</section>
				<section>
				Se voglio sostituire il dato, faccio un'altra PUT sulla stessa posizione → atomica DELETE + PUT → version:2
Se faccio una DELETE → OK version:3
CONTROLLO CONCORRENZA OTTIMISTICA senza lock
				</section>
				<section>
					<h2>Big Data</h2>
					<p>
						reveal.js is a framework for easily creating beautiful presentations using HTML. You'll need a browser with
						support for CSS 3D transforms to see it in its full glory.
					</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Vertical Slides</h2>
						<p>
							Slides can be nested inside of other slides,
							try pressing <a href="#" class="navigate-down">down</a>.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section>
						<h2>Basement Level 1</h2>
						<p>Press down or up to navigate.</p>
					</section>
					<section>
						<h2>Basement Level 2</h2>
						<p>Cornify</p>
						<a class="test" href="http://cornify.com">
							<img width="280" height="326" src="https://s3.amazonaws.com/hakim-static/reveal-js/cornify.gif" alt="Unicorn">
						</a>
					</section>
					<section>
						<h2>Basement Level 3</h2>
						<p>That's it, time to go back up.</p>
						<a href="#/2" class="image">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="-webkit-transform: rotate(180deg);">
						</a>
					</section>
				</section>
				<section data-markdown>
					<script type="text/template">
						## Markdown support

						For those of you who like that sort of thing. Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).

						```
						<section data-markdown>
						  ## Markdown support

						  For those of you who like that sort of thing.
						  Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).
						</section>
						```
					</script>
				</section>

				<section id="transitions">
					<h2>Transition Styles</h2>
					<p>
						You can select from different transitions, like: <br>
						<a href="?transition=cube#/transitions">Cube</a> -
						<a href="?transition=page#/transitions">Page</a> -
						<a href="?transition=concave#/transitions">Concave</a> -
						<a href="?transition=zoom#/transitions">Zoom</a> -
						<a href="?transition=linear#/transitions">Linear</a> -
						<a href="?transition=fade#/transitions">Fade</a> -
						<a href="?transition=none#/transitions">None</a> -
						<a href="?#/transitions">Default</a>
					</p>
				</section>

				<section id="themes">
					<h2>Themes</h2>
					<p>
						Reveal.js comes with a few themes built in: <br>
						<a href="?#/themes">Default</a> -
						<a href="?theme=sky#/themes">Sky</a> -
						<a href="?theme=beige#/themes">Beige</a> -
						<a href="?theme=simple#/themes">Simple</a> -
						<a href="?theme=serif#/themes">Serif</a> -
						<a href="?theme=night#/themes">Night</a> <br>
						<a href="?theme=moon#/themes">Moon</a> -
						<a href="?theme=solarized#/themes">Solarized</a>
					</p>
					<p>
						<small>
							* Theme demos are loaded after the presentation which leads to flicker. In production you should load your theme in the <code>&lt;head&gt;</code> using a <code>&lt;link&gt;</code>.
						</small>
					</p>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>Custom Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section>
					<section data-background="#007777">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#007777"</code> on a slide to change the full page background to the given color. All CSS color formats are supported.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png">
						<h2>Image Backgrounds</h2>
						<pre><code>&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Repeated Image Backgrounds</h2>
						<pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
				</section>

				<section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
					<h2>Background Transitions</h2>
					<p>
						Pass reveal.js the <code>backgroundTransition: 'slide'</code> config argument to make backgrounds slide rather than fade.
					</p>
				</section>

				<section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
					<h2>Background Transition Override</h2>
					<p>
						You can override background transitions per slide by using <code>data-background-transition="slide"</code>.
					</p>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-current-blue">highlight-current-blue</p>
					</section>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, below is an example that's been uploaded to SlideShare.</p>
					<iframe id="slideshare" src="http://www.slideshare.net/slideshow/embed_code/13872948" width="455" height="356" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe>
					<script>
						document.getElementById('slideshare').attributeName = 'allowfullscreen';
					</script>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press b or period on your keyboard to enter the 'paused' mode. This mode is helpful when you want to take distracting slides off the screen
						during a presentation.
					</p>
				</section>

				<section>
					<h2>Stellar Links</h2>
					<ul>
						<li><a href="http://slid.es">Try the online editor</a></li>
						<li><a href="https://github.com/hakimel/reveal.js">Source code on GitHub</a></li>
						<li><a href="http://twitter.com/hakimel">Follow me on Twitter</a></li>
					</ul>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
